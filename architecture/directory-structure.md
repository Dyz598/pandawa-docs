# Directory Structure

### Root Directory

```
.
├── bootstrap
├── config
├── public
├── src
├── storage
├── tests
└── vendor
```

This section will cover the root directory structure of Pandawa and the purpose of each
directory in the framework.

Since Pandawa extends the Laravel framework there are still some directories and code files 
from Laravel that was kept with the same purpose.

- `bootstrap`: Contains all files to bootstrap the framework and all cached framework and
application files to optimize performance. You usually should not modify files here.

- `config`: Contains all the application's configuration files and all your `Bundle` classes
to register to your application in `bundles.php`.

- `public`: Contains the `index.php` file which is the entry point for requests into your applications.

- `src`: Contains all the core code of your applications which will be explained more in detail and its best
practices soon.

- `storage`: Contains logs or file caches generated by the framework. The folder is also used
to store files generated by the application.

- `tests`: Contains your Unit and Feature tests for your application using [PHPUnit](https://phpunit.de/). 
Run the tests using `phpunit` or `./vendor/bin/phpunit` command.

- `vendor`: Contains your [Composer](https://getcomposer.org/) packages/dependencies.

### Src Directory

This section will cover the `src` directory by learning best practices in how to organize your code.

The `src` directory is where you will put most of your core code such as **routes**, **models** and **services**.
The directory does not restrict you to organize your code in specific ways, but we have recommended ways to 
organize your code which follows best practices.

Currently, we have two ways to organize your code the **Standard Way** and the
**Domain Driven Design Way**.

Pandawa encourages modularity in your application(s) and it is used in both 
ways mentioned earlier by separating your application into **modules**. 

**Modules** are basically containers for codes/classes of your application that
have related functionality or follows a specific domain.

For example, if you have a Blog application you would typically have a domain/module for
**users** and **posts** because they follow a specific domain and are not closely related 
to each other.

The following are the implementations for both ways are as follows.

#### Standard Way
```
.
└── src/
    └── Acme/
        ├── User/
        │   ├── Contract
        │   ├── Model
        │   ├── Repository
        │   ├── Relation        
        │   ├── Resources
        │   └── UserBundle.php
        └── Post/
            ├── Command
            ├── Handler
            ├── Contract
            ├── Model
            ├── Service
            ├── Repository
            ├── Resources
            └── PostBundle.php
```

Directly in the root of the `src` directory you would typically make one folder which would be
the name of your application.

In this example we are making a simple blog application called `Acme` with two entities/tables
`users` and `posts`.

Then in the `Acme` folder we would separate the application to Modules/Domain that have no close
relation to each other by making a directory for each Module/Domain which is why we have a `User`
and `Post` directory.

Finally in the directory of each module/domain we would have all the code parts related to it
such as **API Routes**, **Models**, **Services** and **Repositories** which are all registered
by the `Bundle` class in each directory.

**NOTE:** Something in common between the **Standard Way** and the **Domain Driven Design Way** 
is that both ways have the application named directory directly in `src` and each modules/domains
separated to individual directories in it.

#### Domain Driven Design Way
```
.
└── src/
    └── Acme/
        ├── User/
        │   ├── Domain/
        │   │   ├── Model
        │   │   ├── Relation
        │   │   ├── Repository
        │   │   └── UserDomainBundle.php
        │   ├── Infrastructure/
        │   │   ├── Repository
        │   │   ├── Resources
        │   │   └── UserInfrastructureBundle.php
        │   └── UserBundle.php
        └── Post/
            ├── Application/
            │   ├── Command
            │   ├── Handler
            │   └── PostApplicationBundle.php
            ├── Domain/
            │   ├── Model
            │   ├── Repository
            │   └── PostDomainBundle.php
            ├── Infrastructure/
            │   ├── Repository
            │   ├── Resources
            │   └── PostInfrastructureBundle.php
            └── PostBundle.php
```

The **Domain Driven Design Way** or DDD for short only has one difference it separates each 
module/domain to three layers/directories which are `Application`, `Domain` and `Infrastructure`. 

**NOTE:** Please research or go through DDD before going through the rest of the documentation and 
have a solid understanding of DDD.

These three layers follow the practices of DDD, we will not go through much in detail in what code files
to put in each layer/directory we expect you to have a solid understanding of DDD and implement it the way 
you understand it, but we will give a brief explanation of each layer in the following below.

- `Application`: This layer stores all API routes or commands that execute/handle business process
flows and handlers/listeners to domain events.

- `Domain`: This layer stores all entities, business rules, value objects and interface code. Persistence
layer or related code should be separated from Domain.

- `Infrastructure`: This layer stores concrete access to external services such as databases or cache.